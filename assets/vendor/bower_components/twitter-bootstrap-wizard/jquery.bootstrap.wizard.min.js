!function(t){var n=function(n,i){n=t(n);var a=this,e=[],o=t.extend({},t.fn.bootstrapWizard.defaults,i),s=null,l=null;this.rebindClick=function(t,n){t.unbind("click",n).bind("click",n)},this.fixNavigationButtons=function(){if(s.length||(l.find("a:first").tab("show"),s=l.find('li:has([data-toggle="tab"]):first')),t(o.previousSelector,n).toggleClass("disabled",a.firstIndex()>=a.currentIndex()),t(o.nextSelector,n).toggleClass("disabled",a.currentIndex()>=a.navigationLength()),t(o.nextSelector,n).toggleClass("hidden",a.currentIndex()>=a.navigationLength()&&0<t(o.finishSelector,n).length),t(o.lastSelector,n).toggleClass("hidden",a.currentIndex()>=a.navigationLength()&&0<t(o.finishSelector,n).length),t(o.finishSelector,n).toggleClass("hidden",a.currentIndex()<a.navigationLength()),t(o.backSelector,n).toggleClass("disabled",0==e.length),t(o.backSelector,n).toggleClass("hidden",a.currentIndex()>=a.navigationLength()&&0<t(o.finishSelector,n).length),a.rebindClick(t(o.nextSelector,n),a.next),a.rebindClick(t(o.previousSelector,n),a.previous),a.rebindClick(t(o.lastSelector,n),a.last),a.rebindClick(t(o.firstSelector,n),a.first),a.rebindClick(t(o.finishSelector,n),a.finish),a.rebindClick(t(o.backSelector,n),a.back),o.onTabShow&&"function"==typeof o.onTabShow&&!1===o.onTabShow(s,l,a.currentIndex()))return!1},this.next=function(t){if(n.hasClass("last")||o.onNext&&"function"==typeof o.onNext&&!1===o.onNext(s,l,a.nextIndex()))return!1;t=a.currentIndex();var i=a.nextIndex();i>a.navigationLength()||(e.push(t),l.find('li:has([data-toggle="tab"])'+(o.withVisible?":visible":"")+":eq("+i+") a").tab("show"))},this.previous=function(t){if(n.hasClass("first")||o.onPrevious&&"function"==typeof o.onPrevious&&!1===o.onPrevious(s,l,a.previousIndex()))return!1;t=a.currentIndex();var i=a.previousIndex();0>i||(e.push(t),l.find('li:has([data-toggle="tab"])'+(o.withVisible?":visible":"")+":eq("+i+") a").tab("show"))},this.first=function(t){if(o.onFirst&&"function"==typeof o.onFirst&&!1===o.onFirst(s,l,a.firstIndex())||n.hasClass("disabled"))return!1;e.push(a.currentIndex()),l.find('li:has([data-toggle="tab"]):eq(0) a').tab("show")},this.last=function(t){if(o.onLast&&"function"==typeof o.onLast&&!1===o.onLast(s,l,a.lastIndex())||n.hasClass("disabled"))return!1;e.push(a.currentIndex()),l.find('li:has([data-toggle="tab"]):eq('+a.navigationLength()+") a").tab("show")},this.finish=function(t){o.onFinish&&"function"==typeof o.onFinish&&o.onFinish(s,l,a.lastIndex())},this.back=function(){if(0==e.length)return null;var t=e.pop();if(o.onBack&&"function"==typeof o.onBack&&!1===o.onBack(s,l,t))return e.push(t),!1;n.find('li:has([data-toggle="tab"]):eq('+t+") a").tab("show")},this.currentIndex=function(){return l.find('li:has([data-toggle="tab"])'+(o.withVisible?":visible":"")).index(s)},this.firstIndex=function(){return 0},this.lastIndex=function(){return a.navigationLength()},this.getIndex=function(t){return l.find('li:has([data-toggle="tab"])'+(o.withVisible?":visible":"")).index(t)},this.nextIndex=function(){var t,n=this.currentIndex();do{n++,t=l.find('li:has([data-toggle="tab"])'+(o.withVisible?":visible":"")+":eq("+n+")")}while(t&&t.hasClass("disabled"));return n},this.previousIndex=function(){var t,n=this.currentIndex();do{n--,t=l.find('li:has([data-toggle="tab"])'+(o.withVisible?":visible":"")+":eq("+n+")")}while(t&&t.hasClass("disabled"));return n},this.navigationLength=function(){return l.find('li:has([data-toggle="tab"])'+(o.withVisible?":visible":"")).length-1},this.activeTab=function(){return s},this.nextTab=function(){return l.find('li:has([data-toggle="tab"]):eq('+(a.currentIndex()+1)+")").length?l.find('li:has([data-toggle="tab"]):eq('+(a.currentIndex()+1)+")"):null},this.previousTab=function(){return 0>=a.currentIndex()?null:l.find('li:has([data-toggle="tab"]):eq('+parseInt(a.currentIndex()-1)+")")},this.show=function(t){0<(t=isNaN(t)?n.find('li:has([data-toggle="tab"]) a[href="#'+t+'"]'):n.find('li:has([data-toggle="tab"]):eq('+t+") a")).length&&(e.push(a.currentIndex()),t.tab("show"))},this.disable=function(t){l.find('li:has([data-toggle="tab"]):eq('+t+")").addClass("disabled")},this.enable=function(t){l.find('li:has([data-toggle="tab"]):eq('+t+")").removeClass("disabled")},this.hide=function(t){l.find('li:has([data-toggle="tab"]):eq('+t+")").hide()},this.display=function(t){l.find('li:has([data-toggle="tab"]):eq('+t+")").show()},this.remove=function(n){var i=void 0!==n[1]&&n[1];n=l.find('li:has([data-toggle="tab"]):eq('+n[0]+")"),i&&(i=n.find("a").attr("href"),t(i).remove()),n.remove()};var r=function(n){var i=l.find('li:has([data-toggle="tab"])');if(n=i.index(t(n.currentTarget).parent('li:has([data-toggle="tab"])')),i=t(i[n]),o.onTabClick&&"function"==typeof o.onTabClick&&!1===o.onTabClick(s,l,a.currentIndex(),n,i))return!1},d=function(n){n=t(n.target).parent();var i=l.find('li:has([data-toggle="tab"])').index(n);if(n.hasClass("disabled")||o.onTabChange&&"function"==typeof o.onTabChange&&!1===o.onTabChange(s,l,a.currentIndex(),i))return!1;s=n,a.fixNavigationButtons()};this.resetWizard=function(){t('a[data-toggle="tab"]',l).off("click",r),t('a[data-toggle="tab"]',l).off("show show.bs.tab",d),l=n.find("ul:first",n),s=l.find('li:has([data-toggle="tab"]).active',n),t('a[data-toggle="tab"]',l).on("click",r),t('a[data-toggle="tab"]',l).on("show show.bs.tab",d),a.fixNavigationButtons()},l=n.find("ul:first",n),s=l.find('li:has([data-toggle="tab"]).active',n),l.hasClass(o.tabClass)||l.addClass(o.tabClass),o.onInit&&"function"==typeof o.onInit&&o.onInit(s,l,0),o.onShow&&"function"==typeof o.onShow&&o.onShow(s,l,a.nextIndex()),t('a[data-toggle="tab"]',l).on("click",r),t('a[data-toggle="tab"]',l).on("show show.bs.tab",d)};t.fn.bootstrapWizard=function(i){if("string"==typeof i){var a=Array.prototype.slice.call(arguments,1);return 1===a.length&&a.toString(),this.data("bootstrapWizard")[i](a)}return this.each(function(a){if(!(a=t(this)).data("bootstrapWizard")){var e=new n(a,i);a.data("bootstrapWizard",e),e.fixNavigationButtons()}})},t.fn.bootstrapWizard.defaults={withVisible:!0,tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",finishSelector:".wizard li.finish",backSelector:".wizard li.back",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onFinish:null,onBack:null,onTabChange:null,onTabClick:null,onTabShow:null}}(jQuery);