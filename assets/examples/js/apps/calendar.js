$(function(){$(".external-event").each(function(){$(this).data("event",{title:$.trim($(this).text()),className:[$(this).data("class")]})}),$(".external-event").draggable({revert:!0,revertDuration:0});var e=$("#fullcalendar").fullCalendar({theme:!0,editable:!0,droppable:!0,defaultDate:"2016-05-15",header:{left:"prev, today, next",center:"title",right:"month, agendaWeek, agendaDay"},buttonText:{prev:"",next:""},events:[{category:"bg-warning",title:"My First Event",start:"2016-05-05",end:"2016-05-8",className:["bg-warning"]},{category:"bg-success",title:"Three Days Event",start:"2016-05-11",className:["bg-success"]},{category:"bg-danger",title:"Imporatnt Event",start:"2016-05-13",end:"2016-05-15",className:["bg-danger"]},{category:"bg-primary",title:"Four Days Event",start:"2016-05-22",end:"2016-05-25",className:["bg-primary"]}],drop:function(e){$("#drop-remove").is(":checked")&&$(this).remove()},dayClick:function(e,t,a){var n=$("#new_event_modal");n.modal("show"),n.find("#event_start").val(e.format())}});$.fn.windowCheck=function(){var t=$(window).width();t>768?e.fullCalendar("changeView","month"):t<768&&t>540?e.fullCalendar("changeView","basicWeek"):e.fullCalendar("changeView","basicDay")},$(window).on("resize",function(e){$().windowCheck()}),$(".fc-prev-button").append('<i class="fa fa-chevron-left"><i>'),$(".fc-next-button").append('<i class="fa fa-chevron-right"><i>'),$("#new_event_cat_form").on("submit",function(e){e.preventDefault();var t=$(this).find("#category_name").val(),a=$(this).find("#category_color").val(),n=$('<div class="external-event"></div>');n.text(t),n.addClass(a),n.data("event",{title:t,className:[a]}),n.draggable({revert:!0,revertDuration:0}),$("#external-events").append(n),$("#new_event_cat_modal").modal("hide")}),$("#new_event_form").on("submit",function(t){t.preventDefault();var a=$(this).find("#event_title").val(),n=$(this).find("#event_category").val(),r=$(this).find("#event_start").val();e.fullCalendar("addEventSource",[{title:a,start:r,className:[n]}]),$("#new_event_modal").modal("hide")})});